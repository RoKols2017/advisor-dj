---
title: ".env Files Policy"
type: rule
owner: "@rom"
status: active
last_verified: "2025-10-06"
---

## Политика по файлам .env

1) Без явного согласования с Романом никакие изменения в файлы секретов и конфигурации окружения не вносятся: `.env`, `.env.prod`, любые другие `.env*`.
2) Для любых правок создаётся предварительный дифф и предлагается на ревью. Только после подтверждения изменения применяются.
3) В коммитах запрещено добавлять содержимое секретов. Все примеры — только в шаблонах (`.env.example`, `.env.prod.template`) без чувствительных значений.
4) Команды, запускающие контейнеры/скрипты, должны явно указывать используемый env-файл (например, `--env-file .env.prod`), чтобы избежать неявных подстановок.
5) Любое автоматическое создание/обновление `.env*` файлов в CI/CD запрещено. В CI допускаются только шаблоны и переменные окружения runner'а.
6) Перед выполнением чувствительных команд (миграции, деплой) обязательно проверять источник переменных: `docker compose config`, `docker compose exec <svc> env | sort`.

Нарушение этой политики может привести к простою или утечке данных. Все участники обязаны соблюдать правила.


