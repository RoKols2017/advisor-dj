# Rule 98: Documentation upkeep (Print Advisor)

- Language: Russian. Style: кратко, по делу. Format: Markdown.
- Scope: изменения, влияющие на запуск/эксплуатацию/деплой/импорт/настройки.

## Обязательные действия ассистента
- При изменении кода/настроек обновляй документацию в том же PR/коммите.
- Всегда обновляй поле `last_verified` в затронутых документах.
- Ставь относительные ссылки на файлы репо; не вставляй длинные фрагменты кода из репо в ответы.

## Структура и назначение
- `docs/STATUS.md`: статус по этапам, метрики (coverage, тесты), риски.
- `docs/REFACTOR_PLAN.md`: по этапам — Цель, Задачи, DoD, Осталось.
- `docs/DEPLOY_PLAN.md`: Docker/Compose, prod‑overlay, процедуры деплоя, чек‑листы.
- `docs/RUNBOOK.md`: операции (запуск, миграции, health/smoke, логи, бэкапы, rollback).
- `docs/ENV.md`: таблица ENV (описание, дефолт, пример, где используется).
- `docs/how-to/*.md`: пошаговые инструкции (например, Windows SMB share → watcher).
- `docs/archive/`: устаревшее.

## Формат документов
- В начале YAML meta: title, type, status, last_verified, owner.
- Команды — bash (Ubuntu‑совместимые), короткие и проверяемые.
- Пути/файлы/команды — в `inline code`.

## Когда обновлять
- Изменены ENV/настройки/DJANGO_SETTINGS_MODULE/секьюрити → `ENV.md`, `DEPLOY_PLAN.md`.
- Изменён деплой/Compose/Dockerfile → `DEPLOY_PLAN.md`, `RUNBOOK.md`.
- Изменён импорт/демон → how‑to и `RUNBOOK.md` (пути, атомарность, логи).
- Существенные фичи/рефакторинг → `REFACTOR_PLAN.md` (Осталось/Выполнено), `STATUS.md`.

## Ответы ассистента в Cursor
- Давай ссылки на документы и короткие команды для валидации.
- Используй списки/таблицы, избегай «воды».
- Если документ неактуален — предложи и сделай правку.

## PR/коммит чек‑лист
- [ ] Обновлены документы (`STATUS`, `REFACTOR_PLAN`, `DEPLOY_PLAN`, `RUNBOOK`, `ENV`, how‑to`).
- [ ] Проставлен корректный `last_verified`.
- [ ] Ссылки кликабельны, пути существуют.
- [ ] Команды проверены и воспроизводимы на Ubuntu.
