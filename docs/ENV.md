---
title: "ENV Variables Reference"
type: reference
status: draft
last_verified: "2026-02-20"
verified_against_commit: "latest"
owner: "@rom"
---

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä/–¥–µ—Ñ–æ–ª—Ç |
| --- | --- | --- |
| DEBUG | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ | `0` (prod), `1` (dev)
| DJANGO_SETTINGS_MODULE | –ú–æ–¥—É–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ | `config.settings.production` (prod), `config.settings.development` (dev)
| SECRET_KEY | –°–µ–∫—Ä–µ—Ç Django | –¥–ª–∏–Ω–Ω–∞—è —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (>=50)
| ALLOWED_HOSTS | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã | `localhost,127.0.0.1,example.com`
| DATABASE_URL | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î | `postgres://user:pass@db:5432/advisor`

## –õ–æ–≥–∏

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä/–¥–µ—Ñ–æ–ª—Ç |
| --- | --- | --- |
| LOG_TO_FILE | –ü–∏—Å–∞—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª | `1` (prod) |
| LOG_TO_CONSOLE | –õ–æ–≥–∏ –≤ stdout | `0` (prod), `1` (dev)
| LOG_DIR | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤ | `/app/logs`
| LOG_FILE_NAME | –ò–º—è —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤ | `project.log`
| WATCHER_LOG_FILE_NAME | –ò–º—è —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤ –¥–µ–º–æ–Ω–∞ | `print_events_watcher.log`

## –ò–º–ø–æ—Ä—Ç / Watcher

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä/–¥–µ—Ñ–æ–ª—Ç |
| --- | --- | --- |
| PRINT_EVENTS_WATCH_DIR | –í—Ö–æ–¥–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è | `/app/data/watch`
| PRINT_EVENTS_PROCESSED_DIR | –£—Å–ø–µ—à–Ω—ã–µ —Ñ–∞–π–ª—ã | `/app/data/processed`
| PRINT_EVENTS_QUARANTINE_DIR | –ö–∞—Ä–∞–Ω—Ç–∏–Ω | `/app/data/quarantine`
| IMPORT_TOKEN | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è POST –∏–º–ø–æ—Ä—Ç–æ–≤ (`/import/users/`, `/import/print-events/`) | `change-me`
| ENABLE_WINDOWS_AUTH | Backend Windows-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | `0` (off)
| WATCHER_MAX_RETRIES | –ö–æ–ª-–≤–æ –ø–æ–≤—Ç–æ—Ä–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–∞ | `5` |
| WATCHER_BACKOFF_BASE | –ë–∞–∑–∞ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏, —Å–µ–∫ | `2` |
| WATCHER_BACKOFF_MAX | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–≤—Ç–æ—Ä–∞–º–∏, —Å–µ–∫ | `30` |
| WATCHER_DEADLINE_SECONDS | –î–µ–¥–ª–∞–π–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–∞–π–ª–∞, —Å–µ–∫ | `300` |

## Ingest (systemd service –¥–ª—è —Ç—Ä–∞–Ω–∑–∏—Ç–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤)

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—é—Ç—Å—è –≤ `/etc/default/advisor-ingest` (—Å–º. `infrastructure/systemd/advisor-ingest.env.example`).

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä/–¥–µ—Ñ–æ–ª—Ç |
| --- | --- | --- |
| INBOX_ROOT | –ö–æ—Ä–µ–Ω—å —Ç—Ä–∞–Ω–∑–∏—Ç–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ | `/srv/advisor/inbox` |
| WATCH_DIR | –ö—É–¥–∞ ingest –∫–ª–∞–¥–µ—Ç —Ñ–∞–π–ª—ã –¥–ª—è watcher | `/var/lib/docker/volumes/advisor-dj_data/_data/watch` |
| FAILED_DIR | –ö—É–¥–∞ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ —Ñ–∞–π–ª—ã | `/srv/advisor/inbox/_failed` |
| ARCHIVE_DIR | –ê—Ä—Ö–∏–≤ —É—Å–ø–µ—à–Ω–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ | `/srv/advisor/inbox/_archive` |
| STATE_DIR | –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ | `/srv/advisor/ingest/state` |
| LOG_FILE | –õ–æ–≥ ingest-–ø—Ä–æ—Ü–µ—Å—Å–∞ | `/srv/advisor/ingest/logs/ingest_mover.log` |
| LOCK_FILE | –§–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤ | `/var/lock/advisor-ingest.lock` |
| MIN_AGE_SECONDS | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π | `20` |
| MAX_FILES_PER_RUN | –õ–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤ –∑–∞ –∑–∞–ø—É—Å–∫ | `500` |
| SOURCES | –°–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ | `dc print1 print2` |

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (prod)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
| --- | --- | --- |
| CSRF_TRUSTED_ORIGINS | –î–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ CSRF | `https://your-domain.com,https://www.your-domain.com`
| SECURE_PROXY_SSL_HEADER | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ–∫—Å–∏ –¥–ª—è HTTPS | `HTTP_X_FORWARDED_PROTO,https`

### Prod —à–∞–±–ª–æ–Ω
- –§–∞–π–ª: `.env.prod.template` ‚Äî –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ `.env.prod` –Ω–∞ –ø—Ä–æ–¥–µ.

## üîê –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –ø–∞—Ä–æ–ª–µ–π –ë–î

### –ü–µ—Ä–µ–¥–∞—á–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
- **–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**: —Ç–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω—ã `.env.example`, `.env.prod.template` —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏ (`__PASS__`, `__CHANGE_ME__`).
- **–í –ø—Ä–æ–¥–µ**: —Å–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ `--env-file .env.prod` –∏–ª–∏ `env_file: .env.prod` –≤ compose.
- **Docker Secrets**: –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `POSTGRES_PASSWORD_FILE` –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### –ü–∞—Ä–æ–ª–∏ —Å –æ—Å–æ–±—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
- **–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã**: `#`, `@`, `:`, `%`, `&`, `+`, –ø—Ä–æ–±–µ–ª—ã.
- **–†–µ—à–µ–Ω–∏–µ 1**: URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `DATABASE_URL`:
  ```bash
  # –ü–∞—Ä–æ–ª—å: "my#pass@word" ‚Üí "my%23pass%40word"
  DATABASE_URL=postgres://user:my%23pass%40word@db:5432/advisor
  ```
- **–†–µ—à–µ–Ω–∏–µ 2**: –∫–∞–≤—ã—á–∫–∏ –≤ .env —Ñ–∞–π–ª–µ:
  ```bash
  POSTGRES_PASSWORD="my#pass@word"
  ```
- **–†–µ—à–µ–Ω–∏–µ 3**: –ø—Ä–æ—Å—Ç—ã–µ —Å–∏–º–≤–æ–ª—ã (a-z, A-Z, 0-9, !@$%^&*()_+-=[]{}|;:,.<>?)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü–∞—Ä–æ–ª–∏ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å, –Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å, –Ω–µ –ø–µ—á–∞—Ç–∞—Ç—å –≤ CI.
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ `DATABASE_URL` –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏: –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –†–∞–∑–Ω—ã–µ –ø–∞—Ä–æ–ª–∏/–±–∞–∑—ã –≤ dev/prod; —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π.
